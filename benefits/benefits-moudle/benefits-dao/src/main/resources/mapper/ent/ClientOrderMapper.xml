<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lx.benefits.mapper.ent.ClientOrderMapper">
	<resultMap type="com.lx.benefits.bean.entity.ent.ClientOrder" id="clientOrder">
				<id column="id" property="id"/>
				<result column="code" property="code"/>
				<result column="member_id" property="memberId"/>
				<result column="status" property="status"/>
				<result column="oid" property="oid"/>
				<result column="org_code" property="orgCode"/>
				<result column="ee_no" property="eeNo"/>
				<result column="shipping_fee" property="shippingFee"/>
				<result column="pay_channels" property="payChannels"/>
				<result column="price" property="price"/>
				<result column="real_price" property="realPrice"/>
				<result column="remark" property="remark"/>
				<result column="create_time" property="createTime"/>
				<result column="update_time" property="updateTime"/>
	</resultMap>
	
	<sql id="columns">
		id,code,member_id,status,oid,org_code,ee_no,shipping_fee,pay_channels,price,real_price,remark,create_time,update_time
	</sql>

	<select id="queryUniqueByObject" parameterType="com.lx.benefits.bean.entity.ent.ClientOrder" resultMap="clientOrder">
		select
		<include refid="columns"/>
		from ent_client_order
		<where>
			<if test = " oid != null ">
				and oid = #{oid}
			</if>
		</where>
	</select>

	<select id="queryById" parameterType="java.lang.Long" resultMap="clientOrder">
		select
		<include refid="columns"/>
		from ent_client_order where id = #{id}
	</select>

	<select id="updateById" parameterType="com.lx.benefits.bean.entity.ent.ClientOrder">
		update ent_client_order
		<trim prefix="SET" suffixOverrides=",">
			<if test="status != null  ">status = #{status},</if>
			<if test="remark != null  ">remark = #{remark},</if>
			<if test="updateTime != null  ">update_time = #{updateTime},</if>
		</trim>
		where id = #{id}
	</select>

	<select id="queryByObjectCount" parameterType="com.lx.benefits.bean.entity.ent.ClientOrder" resultType="java.lang.Integer">
		select count(*) from ent_client_order
		<where>
			<if test=" oid != null ">
				and oid = #{oid}
			</if>
		</where>
	</select>


	<insert id="insert" parameterType="com.lx.benefits.bean.entity.ent.ClientOrder" useGeneratedKeys="true" keyProperty="id"  >
		insert into ent_client_order
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="code != null  ">code,</if>
			<if test="memberId != null  ">member_id,</if>
			<if test="status != null  ">status,</if>
			<if test="oid != null  and oid != ''  ">oid,</if>
			<if test="orgCode != null  and orgCode != ''  ">org_code,</if>
			<if test="eeNo != null  and eeNo != ''  ">ee_no,</if>
			<if test="shippingFee != null  ">shipping_fee,</if>
			<if test="payChannels != null  ">pay_channels,</if>
			<if test="price != null  ">price,</if>
			<if test="realPrice != null  ">real_price,</if>
			<if test="remark != null  and remark != ''  ">remark,</if>
			<if test="createTime != null  ">create_time,</if>
			<if test="updateTime != null  ">update_time,</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="code != null  ">#{code},</if>
			<if test="memberId != null  ">#{memberId},</if>
			<if test="status != null  ">#{status},</if>
			<if test="oid != null  and oid != ''  ">#{oid},</if>
			<if test="orgCode != null  and orgCode != ''  ">#{orgCode},</if>
			<if test="eeNo != null  and eeNo != ''  ">#{eeNo},</if>
			<if test="shippingFee != null  ">#{shippingFee},</if>
			<if test="payChannels != null  ">#{payChannels},</if>
			<if test="price != null  ">#{price},</if>
			<if test="realPrice != null  ">#{realPrice},</if>
			<if test="remark != null  and remark != ''  ">#{remark},</if>
			<if test="createTime != null  ">#{createTime},</if>
			<if test="updateTime != null  ">#{updateTime},</if>
		</trim>
	</insert>
	
	<sql id="Condition_Where_Clause">
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  
  <select id="selectByExample" parameterType="com.lx.benefits.bean.entity.ent.ClientOrderCondition" resultMap="clientOrder">
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="columns" />
    from ent_client_order
    <if test="_parameter != null">
      <include refid="Condition_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
    <if test="limit != null">
      <if test="offset != null">
        limit ${offset}, ${limit}
      </if>
      <if test="offset == null">
        limit ${limit}
      </if>
    </if>
  </select>
  
   <select id="countByExample" parameterType="com.lx.benefits.bean.entity.ent.ClientOrderCondition" resultType="java.lang.Integer">
    select count(*) from ent_client_order
    <if test="_parameter != null">
      <include refid="Condition_Where_Clause" />
    </if>
  </select>
  
</mapper>